# 01. 데이터베이스 시스템의 정의
🚀 데이터베이스 시스템(DBS; DataBase System) : 데이터베이스에 데이터를 저장하고, 저장된 데이터를 관리하여 조직에 필요한 정보를 생성해주는 시스템

# 02. 데이터베이스의 구조

## 1. 스키마
![image](https://user-images.githubusercontent.com/61977260/194227914-c3eb523a-1008-4148-b52f-ee480c68042b.png)

* 스키마(schema) : 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의
* 인스턴스(instance) : 스키마에 따라 데이터베이스에 실제로 저장된 값

## 2. 3단계 데이터베이스 구조
* 3단계 데이터베이스 구조(3-level database architecture) : 표준화 기관인 ANSI/SPARC에서는 데이터베이스의 복잡한 내부 구조를 감추고 일반 상요자가 데이터베이스를 쉽게 이해하고 이요할 수 있도록 제안

![image](https://user-images.githubusercontent.com/61977260/194230742-12b1cff7-d362-428f-b0de-1154c9d749e8.png)

### 2.1) 3단계 데이터베이스 구조의 개념
* 외부 단계(external level) : 개별 사용자 관점
* 개념 단계(conceptual level) : 조직 전체의 관점
* 내부 단계(internal level) : 물리적인 저장 장치의 관점
* 각 단계별로 다른 추상화(abstraction)를 제공
* 내부 단계 -> 외부 단계 : 추상화 레벨이 높아짐

### 2.2) 외부 단계
* 외부 단계(external level) : 개별 사용자 관점에서 데이터베이스를 이해하고 표현
* 외부 스키마 : 각 사용자가 생각하는 데이터베이스의 모습을 표현한 논리적인 구조로, 사용자마다 다름
* 데이터베이스(1) : 외부 스키마(n)
* 외부 스키마 공유 가능
* 외부 스키마를 서브 스키마(sub schema)라고 볼 수 있음

### 2.3) 개념 단계
* 개념 단계(conceptual level) : 데이터베이스를 조직 전체의 관점에서 이해하고 표현
* 개념 스키마(conceptual schema) : 데이터를 통합하여 전체 데이터베이스의 논리적 구조를 정의 
* 전체 데이터베이스에 어떤 데이터가 저장되는지, 데이터들 간에는 어떤 관계가 존재하고 어떤 제약조건이 있는지에 대한 정의 뿐만 아니라, 데이터에 대한 보안 정책이나 접근 권한에 대한 정의도 포함
* 데이터베이스(1) : 개념 스키마(1)

### 2.4) 내부 단계
* 내부 단계(internal level) : 저장 장치의 관점에서 이해하고 표현
* 내부 스키마(internal schema) : 전체 데이터베이스가 저장 장치에 실제로 저장되는 방법
* 레코드의 구조, 레코드를 구성하는 필드의 크기, 인덱스를 이용한 레코드 접근 경로 등을 정의
* 데이터베이스(1) : 내부 스키마(1)

## 3. 데이터 독립성
![image](https://user-images.githubusercontent.com/61977260/194231708-6d0882b7-317c-442a-b88a-94b255177440.png)

* 데이터 독립성(data independency) : 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성
* 사상 or 매핑(mapping) : 스키마 사이의 대응 관계
* 외부 스키마 <- 외부/개념 사상 -> 개념 스키마
* 개념 스키마 <- 개념/내부 사상 -> 내부 스키마

### 3.1) 논리적 데이터 독립성
* 논리적 데이터 독립성 : 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것
* 전체 데이터베이스의 논리적인 구조가 변경되어도 관련된 외부/개념 사상 정보만 적절히 수정해주면 됌
* 응용 인터페이스(application interface) : 외부/개념 사상
* 외부 스키마의 사용자가 전체 데이터베이스의 논리적 구조가 변경되었다는 사실을 알 필요 없음

### 3.2) 물리적 데이터 독립성
* 물리적 데이터 독립성 : 내부 스키마가 변경되더라도 개념 스키마가 영향을 받지 않는 것 & 외부 스키마도 영향을 받지 않음
* 데이터베이스의 저장 구조가 변경되어도 관련된 개념/내부 사상 정보만 적절히 수정해주면 됌
* 저장 인터페이스(storage interface) : 개념/내부 사상

## 4. 데이터 사전
* 데이터 사전(data dictionary) = 시스템 카탈로그(system catalog) = 메타 데이터(meta data) = 시스템 데이터베이스(system database)
* 데이터 사전 : 데이터베이스에 저장되는 데이터에 관한 정보를 저장하는 곳(일반 사용자 접근 x)
* 메타 데이터(meta data) : 데이터의 데이터
* 사용자 데이터베이스(user database) : 사용자가 실제로 이용하는 데이터가 저장되는 일반 데이터베이스
* DBMS는 데이터 사전에 내용을 새로 추가하거나 수정할 수 있지만, 사용자는 저장 내용을 검색만 할 수 있음
* 데이터 디럭터리(data directory) : 데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치 정보

# 03. 데이터베이스 사용자
* 사용자(user) : 데이터베이스를 이용하기 위해 접근하는 모든 사람
* 데이터베이스 관리자, 최종 사용자(일반 사용자), 응용 프로그래머

## 1. 데이터베이스 관리자
* 데이터베이스 관리자(DBA; DataBase Administrator) : 데이터베이스 시스템을 운영 및 관리
* 데이터 정의어와 데이터 제어어를 이용하여 DB에 접근

[ DBA의 주요 업무 ]
1. 데이터베이스 구성 요소 선정
2. 데이터베이스 스키마 정의
3. 물리적 저장 구조와 접근 방법 결정
4. 무결성 유지를 위한 제약조건 정의
5. 보안 및 접근 권한 정책 결정
6. 백업 및 회복 기법 정의
7. 시스템 데이터 베이스 관리
8. 시스템 성능 감시 및 성능 분석
9. 데이터베이스 재구성

## 2. 최종 사용자
* 최종 사용자(end user) : 데이터를 조작(삽입, 삭제, 수정, 검색)하기 위해 데이터베이스에 접근하는 사람들
* 데이터 조작어를 이용하여 DB에 접근
* 캐주얼 사용자(casual end user) : 데이터베이스에 대한 이론적 지식이 있으며, 주로 데이터 조작어를 이용
* 초보 사용자(naive end user) : 메뉴나 GUI형태의 응용 프로그램을 통해 DB 사용

## 3. 응용 프로그래머
* 응용 프로그래머(application programmer) : C 언어, JAVA 등과 같은 프로그래밍 언어로 응용 프로그램을 작성할 때 데이터베이스에 접근하는 데이터 조작어를 삽입하는 사용자
* 주로 데이터 조작어 삽입

# 04. 데이터 언어
* 데이터베이스 관리 시스템과 통신하는 수단

## 1. 데이터 정의어
* 데이터 정의어(DDL; Data Definition Language) : 스키마를 정의하거나 기존 스키마의 정의를 삭제 또는 수정하기 위해 사용

## 2. 데이터 조작어
* 데이터 조작어(DML; Data Manipulation Language) : 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 데이터베이스 관리 시스템에 요구하기 위해 사용
* 설명 방식에 따라 **절차적 데이터 조작어**와 **비절차적 데이터 조작어**로 나뉨

## 3. 데이터 제어어
* 데이터 제어어(DCL; Data Control Language) : 내부적으로 필요한 규칙이나 기법을 정의하는 데 사용

[ 보장해야 하는 특성 ]
1. 무결성(integrity) : 데이터베이스에 정확하고 유효한 데이터만 유지한다.
2. 보안(security) : 허가된 사용자가 접근 권한이 있는 데이터에만 접근할 수 있게 한다.
3. 회복(recovery) : 장애가 발생해도 데이터의 일관성을 유지한다.
4. 동시성(concurrency) : 여러 사용자가 같은 데이터에 동시에 접근하여 처리할 수 있게 한다.

# 05. 데이터베이스 관리 시스템의 구성
![image](https://user-images.githubusercontent.com/61977260/194246706-0ae58b7b-a2ab-4b9a-9c06-f617a08485c9.png)

## 1. 질의 처리기
* 질의 처리기(query processor) : 사용자의 데이터 처리 요구를 해석하여 처리

[ 구성 요소 ]
1. DDL 컴파일러(DDL complier) : 데이터 정의어로 작성된 스키마의 정의를 해석
2. DML 프리 컴파일러(DML precomplier) : 응용 프로그램에 삽입된 데이터 조작어를 추출하여 DML 컴파일러에 전달
3. DML 컴파일러(DML complier) : 데이터 조작어로 작성된 데이터의 처리 요구를 분석하여 런타임 Db 처리기가 이해할 수 있도록 해석
4. 런타임 데이터베이스 처리기(run-time database processor) : DML 컴파일러로부터 전달받은 데이터 처리 요구를 실행
5. 트랜잭션 관리자(transaction manager) : 사용자 접근 권한이 유효한지, 무결성을 유지하기 위한 제약조건 위반 여부를 확인

## 2. 저장 데이터 관리자
* 저장 데이터 관리자(stored data manager) : 디스크에 저장된 데이터베이스와 데이터 사전을 관리하고, 여기에 실제로 접근하는 역할
